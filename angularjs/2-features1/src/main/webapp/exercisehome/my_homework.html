<!--
    The homework is to create "my_homework.html", in which you are going to start 
    with number array of [1, 15, 19, 2, 40] and computes the total sum.  

    Also add a button, when clicked, to add a random number between 1 and 100, 
    after which the total sum gets recomputed and newly added number is added 
    to the list. -->
<!DOCTYPE html>
<html>

<head>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
</head>

<body ng-app="homeworkApp">

    <div ng-controller="myController">
        <p>Looping numbers with ng-repeat:</p>
        <ul>
            <li ng-repeat="n in numbers track by $index">
                <!-- Duplicate keys are banned in ng-repeat because AngularJS uses keys to associate DOM nodes with items. Usage of track by $index causes the items to be keyed by their position in the array instead of their value: -->
                index {{$index}}: {{ n }}
            </li>
        </ul>
        <button class="btn" ng-click="add()">Click me to add a randon number between 1 to 100</button>
        <p>{{message}}</p>
    </div>

    <script>
        var myApp = angular.module('homeworkApp', []);

        myApp.controller('myController', function ($scope) {
            $scope.numbers = [1, 15, 19, 2, 40];

            $scope.add = function () {
                var randomNumber = Math.floor((Math.random() * 100) + 1);
                $scope.numbers.push(randomNumber);
                $scope.message = "Total: " + $scope.calculate();
            };

            $scope.calculate = function () {
                var total = 0;
                for (i = 0; i < $scope.numbers.length; i++) {
                    total += $scope.numbers[i];
                }
                return total;
            };

            $scope.message = "Total: " + $scope.calculate();
        });
    </script>

</body>

</html>